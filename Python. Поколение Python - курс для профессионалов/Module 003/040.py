'''
–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ 3 üòî
–î–∞–Ω —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã –∏—Ö —Ñ–∞–º–∏–ª–∏–∏, 
–∏–º–µ–Ω–∞ –∏ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç 
—Å–∞–º–æ–≥–æ –º–æ–ª–æ–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, –ø—Ä–∞–∑–¥–Ω—É—é—â–µ–≥–æ —Å–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è 
–≤ —Ç–µ—á–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–µ–º–∏ –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.

–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ 
–≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY, –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ –≤–≤–æ–¥–∏—Ç—Å—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ 
—á–∏—Å–ª–æ n ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. 
–í –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö n —Å—Ç—Ä–æ–∫–∞—Ö –≤–≤–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ –∫–∞–∂–¥–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ: 
–∏–º—è, —Ñ–∞–º–∏–ª–∏—è –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–æ–º. 
–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY.

–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∞–º–æ–≥–æ –º–æ–ª–æ–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, 
–ø—Ä–∞–∑–¥–Ω—É—é—â–µ–≥–æ —Å–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–µ–º–∏ –¥–Ω–µ–π, 
–∏ –≤—ã–≤–µ—Å—Ç–∏ –µ–≥–æ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é, —Ä–∞–∑–¥–µ–ª–∏–≤ –ø—Ä–æ–±–µ–ª–æ–º. 
–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω–µ—Ç, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç:

–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ —É –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –¥–∞—Ç—ã 01.11.2021 –±–ª–∏–∂–∞–π—à–∏–º–∏ —Å–µ–º—å—é –¥–Ω—è–º–∏ —è–≤–ª—è—é—Ç—Å—è:

02.11.2021, 03.11.2021, 04.11.2021, 05.11.2021, 06.11.2021, 07.11.2021, 08.11.2021

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–µ. 
https://stepik.org/media/attachments/lesson/571244/tests_2506825.zip

Sample Input 1:
14.11.2021
3
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 16.11.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 14.11.1997
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 17.11.1994
Sample Output 1:
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤

Sample Input 2:
14.11.2021
3
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 25.12.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 24.11.1997
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 28.12.1994
Sample Output 2:
–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è

Sample Input 3:
10.11.2021
5
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 11.11.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 12.11.1992
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 13.11.1996
–†–æ–º–∞–Ω –ì—Ä–∏–≥–æ—Ä—å–µ–≤ 14.11.1994
–ì—Ä–∏–≥–æ—Ä–∏–π –ò–≤–∞–Ω–æ–≤ 15.11.1995
Sample Output 3:
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤

Sample Input 4:
29.11.2021
5
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 01.12.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 29.11.1992
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 30.11.1993
–†–æ–º–∞–Ω –ì—Ä–∏–≥–æ—Ä—å–µ–≤ 03.12.1994
–ì—Ä–∏–≥–æ—Ä–∏–π –ò–≤–∞–Ω–æ–≤ 16.07.1995
Sample Output 4:
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤

Sample Input 5:
29.12.2021
4
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 30.12.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 04.01.1997
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 03.01.1994
–ú–∞—à–∞ –ò–≤–∞–Ω–æ–≤–∞ 31.12.1996
Sample Output 5:
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤
'''
from datetime import datetime

current_date = datetime.strptime(input(), '%d.%m.%Y').date()
current_date_future = current_date.replace(year=current_date.year + 1)
arr, data_base = [input().rsplit(' ', 1) for i in range(int(input()))], {}
max_year = datetime.min.date()
for i in arr:
    if datetime.strptime(i[1], '%d.%m.%Y').date().month < current_date.month:
        if 1 <= abs(datetime.strptime(i[1], '%d.%m.%Y').date().replace(year=current_date_future.year) - current_date).days <= 7:
            if max_year < datetime.strptime(i[1], '%d.%m.%Y').date():
                max_year = datetime.strptime(i[1], '%d.%m.%Y').date()
            data_base.setdefault(
                datetime.strptime(i[1], '%d.%m.%Y').date(), 
                []
            ).append(*i[:-1])
    else:
        if 1 <= abs(datetime.strptime(i[1], '%d.%m.%Y').date().replace(year=current_date.year) - current_date).days <= 7:
            if max_year < datetime.strptime(i[1], '%d.%m.%Y').date():
                max_year = datetime.strptime(i[1], '%d.%m.%Y').date()
            data_base.setdefault(
                datetime.strptime(i[1], '%d.%m.%Y').date(), 
                []
            ).append(*i[:-1])

data_base_sorted = dict()
for k, v in sorted(data_base.items()):
    if max_year.year == k.year:
        if current_date.month <= k.month:
            data_base_sorted[k.replace(year=current_date.year)] = v
        else:
            data_base_sorted[k.replace(year=current_date_future.year)] = v

for key in data_base_sorted.keys():
    if 1 <= abs(key - current_date).days <= 7:
        print(*data_base_sorted[key])
        break
else:
    print('–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è')