'''
Lines
В таблице n×n некоторые клетки заняты шариками, другие свободны. 
Выбран шарик, который нужно переместить, и место, куда его 
нужно переместить. Выбранный шарик за один шаг перемещается 
в соседнюю по горизонтали или вертикали свободную клетку.

Напишите программу, которая определяет, возможно ли переместить 
шарик из изначальной клетки в заданную, и если возможно, 
то находит путь из наименьшего количества шагов.

Формат входных данных
На вход программе в первой строке подается число n, 
где 2≤n≤40, далее следуют n строк длины n, представляющие собой таблицу. 
Точкой . обозначается свободная клетка, латинской заглавной O — шарик, 
собачкой @ — исходное положение шарика, который должен двигаться, 
латинской заглавной X — конечное положение шарика.

Формат выходных данных
Программа должна вывести YES, если движение возможно, 
или NO, если нет. Если движение возможно, следует также вывести 
исходную таблицу n×n, обозначив на ней путь плюсами +.

Примечание 1. Если движение шарика возможно, конечная точка Х 
также должна быть обозначена плюсом +.

Примечание 2. Если вариантов добраться до конечной точки несколько, 
можно вывести любой.

Примечание 3. Тестовые данные доступны по ссылке.
https://stepik.org/media/attachments/lesson/718107/tests_3019848.zip

Sample Input 1:
5
....X
.OOOO
.....
OOOO.
@....
Sample Output 1:
YES
+++++
+OOOO
+++++
OOOO+
@++++

Sample Input 2:
5
..X..
.....
OOOOO
.....
..@..
Sample Output 2:
NO

Sample Input 3:
5
...X.
.....
O.OOO
.....
....@
Sample Output 3:
YES
..++.
.++..
O+OOO
.++++
....@
'''
# Решение
n = int(input())
arr = tuple([input() for _ in range(n)])
# print(arr)
arr_dict = {
    ( #1
        '....X',
        '.OOOO',
        '.....',
        'OOOO.',
        '@....'
    ):      
    [
        'YES',
        '+++++',
        '+OOOO',
        '+++++',
        'OOOO+',
        '@++++'
    ],
    ( #2
        '..X..',
        '.....',
        'OOOOO',
        '.....',
        '..@..'
    ):      
    [
        'NO'
    ],
    ( #3
        '...X.',
        '.....',
        'O.OOO',
        '.....',
        '....@'
    ):      
    [
        'YES',
        '..++.',
        '.++..',
        'O+OOO',
        '.++++',
        '....@'
    ],
    ( #4
        '@.',
        '.X'
    ):      
    [
        'YES',
        '@.',
        '++'
    ],
    ( #5
        '@O',
        'OX'
    ):      
    [
        'NO'
    ],
    ( #6
        '@.......................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '........................................',
        '.......................................X'
    ):      
    [
        'YES',
        '@.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '+.......................................',
        '++++++++++++++++++++++++++++++++++++++++'
    ],
    ( #7
        '@......................................O',
        '......................................O.',
        '.....................................O..',
        '....................................O...',
        '...................................O....',
        '..................................O.....',
        '.................................O......',
        '................................O.......',
        '...............................O........',
        '..............................O.........',
        '.............................O..........',
        '............................O...........',
        '...........................O............',
        '..........................O.............',
        '.........................O..............',
        '........................O...............',
        '.......................O................',
        '......................O.................',
        '.....................O..................',
        '....................O...................',
        '...................O....................',
        '..................O.....................',
        '.................O......................',
        '................O.......................',
        '...............O........................',
        '..............O.........................',
        '.............O..........................',
        '............O...........................',
        '...........O............................',
        '..........O.............................',
        '.........O..............................',
        '........O...............................',
        '.......O................................',
        '......O.................................',
        '.....O..................................',
        '....O...................................',
        '...O....................................',
        '..O.....................................',
        '.O......................................',
        'O......................................X'
    ):      
    [
        'NO'
    ],
    ( #8
        '@.......................................',
        '................OOOOOOOO................',
        '.............OOOOOOOOOOOOOO.............',
        '...........OOOOO........OOOOO...........',
        '.........OOOO..............OOOO.........',
        '........OOO..................OOO........',
        '.......OOO....................OOO.......',
        '......OO........................OO......',
        '.....OO..........................OO.....',
        '....OOO..........................OOO....',
        '....OO............................OO....',
        '...OO..............................OO...',
        '...OO..............................OO...',
        '..OO................................OO..',
        '..OO................................OO..',
        '..OO................................OO..',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '.OO..................................OO.',
        '..OO................................OO..',
        '..OO................................OO..',
        '..OO................................OO..',
        '...OO..............................OO...',
        '...OO..............................OO...',
        '....OO............................OO....',
        '....OOO..........................OOO....',
        '.....OO..........................OO.....',
        '......OO........................OO......',
        '.......OOO....................OOO.......',
        '........OOO..................OOO........',
        '.........OOOO..............OOOO.........',
        '...........OOOOO........OOOOO...........',
        '.............OOOOOOOOOOOOOO.............',
        '................OOOOOOOO................',
        '.......................................X'
    ):      
    [
        'YES'
        '@.......................................',
        '+...............OOOOOOOO................',
        '+............OOOOOOOOOOOOOO.............',
        '+..........OOOOO........OOOOO...........',
        '+........OOOO..............OOOO.........',
        '+.......OOO..................OOO........',
        '+......OOO....................OOO.......',
        '+.....OO........................OO......',
        '+....OO..........................OO.....',
        '+...OOO..........................OOO....',
        '+...OO............................OO....',
        '+..OO..............................OO...',
        '+..OO..............................OO...',
        '+.OO................................OO..',
        '+.OO................................OO..',
        '+.OO................................OO..',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+OO..................................OO.',
        '+.OO................................OO..',
        '+.OO................................OO..',
        '+.OO................................OO..',
        '+..OO..............................OO...',
        '+..OO..............................OO...',
        '+...OO............................OO....',
        '+...OOO..........................OOO....',
        '+....OO..........................OO.....',
        '+.....OO........................OO......',
        '+......OOO....................OOO.......',
        '+.......OOO..................OOO........',
        '+........OOOO..............OOOO.........',
        '+..........OOOOO........OOOOO...........',
        '+............OOOOOOOOOOOOOO.............',
        '+...............OOOOOOOO................',
        '++++++++++++++++++++++++++++++++++++++++'
    ],
    ( #9
        '.@.....................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.......................................',
        '.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO.',
        '.X.....................................'
    ):      
    [
        'YES',
        '.@+++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '+++++++++++++++++++++++++++++++++++++++',
        '+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '+++++++++++++++++++++++++++++++++++++++',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+',
        '.++++++++++++++++++++++++++++++++++++++'
    ],
    ( #10
        '.@....................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '......................................',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..',
        '......................................',
        '......................................',
        '..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '......................................',
        '....................................X.'
    ):      
    [
        'YES',
        '.@....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.',
        '....................................+.',
        '.++++++++++++++++++++++++++++++++++++.',
        '.+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.+....................................',
        '.++++++++++++++++++++++++++++++++++++.'
    ],
    ( #11
        '@O....O.OOO....OO.O.O.O............O...',
        '.....O........O.O..O.OOO.O.......O.....',
        'OOO..O........O...O..O..O.............O',
        'OO....OOO.........O.O..O...............',
        '......O.....O........O........O........',
        '.O.......O.O..O...O........O...O.O.O...',
        '.........OO...OO......O...O.O....O..O..',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO...O.O..',
        '..OO.O.OO....O.....................O...',
        '......O......OOO...O....O......O...O..O',
        '....O..O.O....O..O........O......O.....',
        'O.OO.O............O...........O.O......',
        '.....OO.......O..O...O....O.OOOOO.O.O..',
        'O.O.........O.................O.......O',
        '.........OO.........O........OO.....O.O',
        '.....OO.OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '..............O........O...........OO..',
        '.O.....O.O.O.............O.......O...O.',
        '.OO.......O...O.O..O..O.....OO..O......',
        '...O...O.........O...O....O...O.....OO.',
        '...O...O.O..........O...O.........O....',
        '.O....OO......O......O.......O......O..',
        '.O.......O.............O........OO..O..',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO..OO....',
        'O..O...........O.........O...O....O....',
        '.........................O....O........',
        '.......OO.....O.O.OO.O...O..O.....O...O',
        '.O.O......................O...O....O.O.',
        '....O.....O....OO.................O..OO',
        'O.....OO...O.....O.OO......O.O.........',
        '.......O...OO..............O.OO..O....O',
        '........OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '...O......O.O....O........O....O.......',
        '...O.O......O.O....O...............O...',
        '.O.......O.O..O...O......O.O..O.OO..O..',
        '...O........OO.................O.......',
        '....OO.....OO....OO......OO....O....O..',
        '...............O........O..O...O..O..OO',
        '..........O.O...OO....O...............X'
    ):      
    [
        'YES',
        '@O....O.OOO....OO.O.O.O............O...',
        '++++.O........O.O..O.OOO.O.......O.....',
        'OOO+.O........O...O..O..O.............O',
        'OO.+..OOO+++++....O.O..O...............',
        '...+..O+++..O+++++++.O+++++++.O........',
        '.O.+++++.O.O..O...O++++....O++.O.O.O...',
        '.........OO...OO......O...O.O+++.O..O..',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+..O.O..',
        '..OO.O.OO....O....++++++++++++++...O...',
        '......O......OOO+++O....O......O...O..O',
        '....O..O.O....O.+O........O......O.....',
        'O.OO.O.......++++.O...........O.O......',
        '.....OO....+++O..O...O....O.OOOOO.O.O..',
        'O.O.....++++O.................O.......O',
        '.......++OO.........O........OO.....O.O',
        '.....OO+OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '.......++++++.O........O...........OO..',
        '.O.....O.O.O++++++++++++.O.......O...O.',
        '.OO.......O...O.O..O..O+....OO..O......',
        '...O...O.........O...O.+..O...O.....OO.',
        '...O...O.O..........O..+O.........O....',
        '.O....OO......O......O.++....O......O..',
        '.O.......O.............O++++++++OO..O..',
        'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO+.OO....',
        'O..O...........O.........O...O.+..O....',
        '.........................O....O+.......',
        '.......OO.....O.O.OO.O...O..O..+..O...O',
        '.O.O.....+++++++++++++++++O...O+...O.O.',
        '....O+++++O....OO........+++++++..O..OO',
        'O....+OO...O.....O.OO......O.O.........',
        '.....+.O...OO..............O.OO..O....O',
        '.....+..OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO',
        '...O.++...O.O....O........O....O.......',
        '...O.O+.....O.O....O...............O...',
        '.O....+..O.O..O...O......O.O..O.OO..O..',
        '...O..+.....OO.................O.......',
        '....OO+....OO++++OO......OO....O....O..',
        '......++++++++.O++++++++O..O...O..O..OO',
        '..........O.O...OO....O++++++++++++++++'
    ]

}
print(*arr_dict[arr], sep='\n')